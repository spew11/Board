<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>board</title>
    <link>
</head>
<style>
    .container {
        font-size : 20px;
        text-align : right;
        font-family: 'Jalnan';
        font-weight: bold;
    }
    .menu {
        width:90%;
    }
    main{
        margin: auto;
        width : 80%;
        /* margin-top : 3px; */
        border:4px solid #fa86c4;
        border-radius: 10px;
        height: 600px;
    }
    header h1 {
        text-align: center;
        color: #fa86c4;
        font-family: 'VAL', 'showcard Gothic';
        font-size: 100px;
        margin-bottom:0px;
    }
    .menu a, #write_btn{
        background-color: #FC94AF;
        padding: 10px 10px;
        color: white;
        margin: 5px 3px 3px 0px;
        text-decoration: none;
        border-radius: 10px;
        display: inline-block;
    }
    #write_btn {
        margin-right: 10%;
    }
    table {
        width: 100%;
        margin: auto;
        text-align: left;
        background-color: #FC94AF;
        color: white;
        border-collapse: collapse; /*셀 테두리 제거*/ 
    }
    table a {
        text-decoration: none;
    }
    tbody a {
        color: #FC94AF;
    }
    thead tr {
        height: 40px;
    }
    tbody td {
        background-color: white;
        color: #FC94AF;
        height: 40px;
        table-layout: fixed;
    }

</style>
<body>
<!--    session 값 확인: <p th:text="${session.loginName}"></p>-->
    <div class="container">
        <header>
            <h1>MINI BOARD</h1>
            <div class="menu">
                <a href="/member/sign-up" id="sign_up">회원가입</a>
                <a href="javascript:void(0)" id="login_toggle"></a>
            </div>
        </header>
        <main>
            <table>
                <thead>
                    <tr>
                        <th>번호</th>
                        <th>제목</th>
                        <th>작성자</th>
                        <th>작성일</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="article: ${articles}">
                        <td th:text="${article.articleNo}"></td>
                        <td><a th:href="@{|/board/${article.articleNo}|}" th:text="${article.title}"></a></td>
                        <td th:text="${article.member.memberNickName}"></td>
                        <td th:text="${#temporals.format(article.regDate, 'yyyy.MM.dd')}"></td>
                    </tr>
                </tbody>
            </table>
        </main>
        <a href="/board/article-form" id="write_btn">글쓰기</a>
    </div>
</body>
<script th:inline="javascript">
    //회원가입 버튼 활성화 여부를 위한 상수 선언
    const sign_up = document.getElementById("sign_up");
    //로그인 로그아웃 토글을 위한 상수 선언
    const login_toggle = document.getElementById("login_toggle");
    //uid 얻기
	const uid = /*[[${session.loginName}]]*/ null;
    if (uid != null) {
        login_toggle.innerText="로그아웃";
        login_toggle.href="/member/logout";
        sign_up.style.display='none';
    }
    else {
        login_toggle.innerText="로그인";
        login_toggle.href="/member/login";
    }
</script>
</html>